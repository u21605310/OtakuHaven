{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../Service/NikeDbContext.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"@angular/material/grid-list\";\nfunction NikeShoesComponent_mat_grid_tile_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-grid-tile\", 10)(1, \"mat-card\", 11)(2, \"div\", 12)(3, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function NikeShoesComponent_mat_grid_tile_13_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const shoe_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.prevImage(shoe_r1));\n    });\n    i0.ɵɵelementStart(4, \"mat-icon\");\n    i0.ɵɵtext(5, \"chevron_left\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"img\", 14);\n    i0.ɵɵelementStart(7, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function NikeShoesComponent_mat_grid_tile_13_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const shoe_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.nextImage(shoe_r1));\n    });\n    i0.ɵɵelementStart(8, \"mat-icon\");\n    i0.ɵɵtext(9, \"chevron_right\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"mat-card-header\")(11, \"mat-card-title\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"mat-card-subtitle\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"mat-card-content\")(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function NikeShoesComponent_mat_grid_tile_13_Template_button_click_18_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const shoe_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.addToCartAndNavigate(shoe_r1));\n    });\n    i0.ɵɵtext(19, \"Add to Cart\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const shoe_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"alt\", shoe_r1.name);\n    i0.ɵɵproperty(\"src\", ctx_r0.getCurrentImage(shoe_r1), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(shoe_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(shoe_r1.brand);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Price: R\", shoe_r1.price, \"\");\n  }\n}\nlet NikeShoesComponent = /*#__PURE__*/(() => {\n  class NikeShoesComponent {\n    constructor(nikeEntityService, router) {\n      this.nikeEntityService = nikeEntityService;\n      this.router = router;\n      this.sortByPrice = 'highest';\n      this.cart = [];\n    }\n    ngOnInit() {\n      this.nikeEntityService.setNikeShoesData();\n      const storedShoes = localStorage.getItem('nike-shoes');\n      this.nikeShoes = storedShoes ? JSON.parse(storedShoes) : [];\n      this.filteredShoes = [...this.nikeShoes];\n      this.applyFilters();\n    }\n    applyFilters() {\n      this.filteredShoes = this.nikeShoes.filter(shoe => {\n        if (this.sortByPrice === 'lowest') {\n          return true;\n        } else if (this.sortByPrice === 'highest') {\n          return true;\n        }\n        return false;\n      });\n      if (this.sortByPrice === 'lowest') {\n        this.filteredShoes.sort((a, b) => a.price - b.price);\n      } else if (this.sortByPrice === 'highest') {\n        this.filteredShoes.sort((a, b) => b.price - a.price);\n      }\n      this.filteredShoes.forEach(shoe => {\n        shoe.currentImage = 0;\n      });\n    }\n    prevImage(shoe) {\n      shoe.currentImage = (shoe.currentImage - 1 + shoe.images.length) % shoe.images.length;\n    }\n    nextImage(shoe) {\n      shoe.currentImage = (shoe.currentImage + 1) % shoe.images.length;\n    }\n    getCurrentImage(shoe) {\n      return shoe.images[shoe.currentImage];\n    }\n    addToCart(shoe) {\n      this.cart.push(shoe);\n    }\n    addToCartAndNavigate(shoe) {\n      this.addToCart(shoe);\n      this.router.navigate(['sneaker-shop/cart'], {\n        queryParams: {\n          shoe: JSON.stringify(shoe)\n        }\n      });\n    }\n  }\n  NikeShoesComponent.ɵfac = function NikeShoesComponent_Factory(t) {\n    return new (t || NikeShoesComponent)(i0.ɵɵdirectiveInject(i1.NikeEntityService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  NikeShoesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NikeShoesComponent,\n    selectors: [[\"app-nike-shoes\"]],\n    decls: 14,\n    vars: 2,\n    consts: [[1, \"container\"], [1, \"filters\"], [1, \"filter-section\"], [\"appearance\", \"fill\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"lowest\"], [\"value\", \"highest\"], [1, \"shoes\"], [\"cols\", \"2\", \"rowHeight\", \"1:1\", \"gutterSize\", \"16px\"], [\"class\", \"shoe-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"shoe-card\"], [1, \"card\"], [1, \"slider\"], [\"mat-icon-button\", \"\", 1, \"slider-nav\", 3, \"click\"], [\"mat-card-image\", \"\", 1, \"card-image\", 3, \"src\", \"alt\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"]],\n    template: function NikeShoesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\");\n        i0.ɵɵtext(4, \"Sort by Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-form-field\", 3)(6, \"mat-select\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function NikeShoesComponent_Template_mat_select_ngModelChange_6_listener($event) {\n          return ctx.sortByPrice = $event;\n        })(\"ngModelChange\", function NikeShoesComponent_Template_mat_select_ngModelChange_6_listener() {\n          return ctx.applyFilters();\n        });\n        i0.ɵɵelementStart(7, \"mat-option\", 5);\n        i0.ɵɵtext(8, \"Lowest to Highest\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"mat-option\", 6);\n        i0.ɵɵtext(10, \"Highest to Lowest\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(11, \"div\", 7)(12, \"mat-grid-list\", 8);\n        i0.ɵɵtemplate(13, NikeShoesComponent_mat_grid_tile_13_Template, 20, 5, \"mat-grid-tile\", 9);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.sortByPrice);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredShoes);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.NgControlStatus, i4.NgModel, i5.MatFormField, i6.MatButton, i6.MatIconButton, i7.MatIcon, i8.MatCard, i8.MatCardContent, i8.MatCardHeader, i8.MatCardImage, i8.MatCardSubtitle, i8.MatCardTitle, i9.MatSelect, i10.MatOption, i11.MatGridList, i11.MatGridTile],\n    styles: [\".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start;margin:0 auto;max-width:1500px}.filters[_ngcontent-%COMP%]{flex:0 0 300px;padding:16px;margin-right:16px}.shoes[_ngcontent-%COMP%]{flex:1 1 0;display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-gap:16px;padding:16px}.shoe-card[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}.slider[_ngcontent-%COMP%]{position:relative}.card-image[_ngcontent-%COMP%]{object-fit:cover;height:100%;width:100%;max-height:300px}.slider-nav[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:transparent;border:none;color:#0059ff;font-size:24px;cursor:pointer}.slider-nav[_ngcontent-%COMP%]:first-child{left:10px}.slider-nav[_ngcontent-%COMP%]:last-child{right:10px}\"]\n  });\n  return NikeShoesComponent;\n})();\nexport { NikeShoesComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}